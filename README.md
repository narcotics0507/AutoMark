# AI 书签整理器 (Chrome 扩展)

这是一款Chrome 浏览器扩展，利用AI 模型（OpenAI GPT-4, Google Gemini, DeepSeek 等）智能分析、分类并清理您的浏览器书签。

## ✨ 核心功能

*   **🤖 智能分类**：基于书签的标题和 URL，自动识别其内容并将其归类到合适的文件夹结构中（例如：开发、设计、工具、阅读等）。
*   **📂 按需整理**：支持选择特定的文件夹进行整理，避免误操作其他重要书签。
*   **💀 失效链接检测**：
    *   **集成模式**：在 AI 整理的同时顺便检测并移除失效链接。
    *   **独立模式**：**[新功能]** 仅进行死链检测，不进行 AI 分类，快速清理无效书签。
*   **👁️ 可视化审查**：在执行任何更改之前，您完全掌控。扩展会生成一份详细的“整理计划”，您可以预览即将创建的文件夹、移动的书签以及要删除的死链，并可以随时取消或修改。
*   **🔒 本地安全**：您的 API Key 仅存储在本地浏览器中。书签数据仅发送至您配置的 AI 接口进行分析，不会上传至任何第三方服务器。
*   **🌍 多语言支持**：支持生成中文或英文的文件夹名称。

## 🚀 安装说明

1.  **下载代码**
    确保您已下载本项目代码到本地目录。

2.  **在 Chrome 中加载**
    *   打开 Chrome 浏览器，访问 `chrome://extensions/`
    *   打开右上角的 **开发者模式 (Developer mode)** 开关。
    *   点击左上角的 **加载已解压的扩展程序 (Load unpacked)**。
    *   选择本项目的根目录。

3.  **配置 API**
    *   点击浏览器工具栏中的扩展图标，点击右上角的齿轮 ⚙️ 进入设置页。
    *   选择 API 提供商 (推荐 OpenAI 或 Google Gemini)。
    *   输入您的 API Key。
    *   点击 **保存配置** 并点击 **测试连接** 确保配置正确。

## 📖 使用指南

### 1. 启动整理向导
点击扩展图标，在欢迎页点击 **“开始智能整理”** 按钮。

### 2. 选择文件夹
*   在文件夹列表中勾选您希望整理的目录（例如“书签栏”或“其他书签”），支持**一键全选/取消全选**。
*   **选项**：
    *   **同时检测失效链接**：在 AI 整理的同时检查链接有效性（耗时较长）。
    *   **仅检测死链 (橙色按钮)**：**点击此按钮将跳过 AI 分析**，直接扫描并列出选中文件夹中的失效链接。
    *   **检测重复书签 (紫色按钮)**：**[新功能]** 快速扫描重复书签，支持**自定义选择保留项**，让清理更放心。

### 3. 分析与生成计划
*   AI 将扫描您的书签并生成一份整理计划。
*   如果是“仅检测死链”或“检测重复书签”模式，系统将快速扫描链接状态，不消耗 AI Token。
*   在此过程中，您可以随时点击 **“停止分析”**，系统会实时反馈进度。

### 4. 审查计划
*   系统会展示即将进行的操作列表：
    *   **📁 新建文件夹**
    *   **📄 移动书签**
    *   **✏️ 重命名**
    *   **💀 失效链接** (如已检测)
    *   **👯 重复书签**：**[新功能]** 对于每组重复书签，您可以通过**单选框**自由决定保留哪一个，其余的将自动标记为删除。
*   您可以展开每个分组，**取消勾选** 您不希望执行的操作。

### 5. 执行整理
*   确认无误后，点击 **“确认执行”**。
*   系统将自动在后台为您整理书签，并实时显示进度。

## 🎨 界面升级
*   **专业化 UI**：按钮布局经过精心设计，使用全称（“检测失效链接”、“检测重复书签”）替代图标，操作更直观。
*   **交互优化**：文件夹列表支持悬停效果，全选操作更便捷。
*   **状态反馈**：非 AI 任务（如死链检测）会显示准确的“正在扫描”状态，避免误导。

## ⚠️ 注意事项

*   **备份建议**：虽然提供了审查机制，但在进行大规模整理前，强烈建议您先导出当前书签作为备份 (`chrome://bookmarks/` -> 右上角菜单 -> 导出书签)。
*   **API 消耗**：整理大量书签会消耗一定的 API Token，请关注您的 API 额度。建议使用 `gpt-4o-mini` 或 `gemini-pro` 等高性价比模型。
*   **网络问题**：死链检测依赖于您的网络环境，某些即使有效的链接也可能因网络超时被标记为失效，请在审查阶段仔细确认。

## 🛠️ 技术栈

*   JavaScript (ES6+)
*   Chrome Extensions API (Manifest V3)
*   OpenAI / Gemini API Integration
*   HTML5 / CSS3 (Responsive UI)

---
**License**: MIT
